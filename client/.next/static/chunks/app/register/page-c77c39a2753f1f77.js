(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[11],{6576:function(e,t,r){Promise.resolve().then(r.bind(r,2672))},2672:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return R}});var a=r(7437),n=r(2265),s=r(9376),i=r(2548),l=r(6070),o=r(5186),d=r(2869),c=r(6840),u=n.forwardRef((e,t)=>(0,a.jsx)(c.WV.label,{...e,ref:t,onMouseDown:t=>{var r;t.target.closest("button, input, select, textarea")||(null===(r=e.onMouseDown)||void 0===r||r.call(e,t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));u.displayName="Label";var f=r(535),m=r(4508);let g=(0,f.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),p=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,a.jsx)(u,{ref:t,className:(0,m.cn)(g(),r),...n})});p.displayName=u.displayName;var x=r(9205);let v=(0,x.Z)("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);var y=r(1817),h=r(7992);let b=(0,f.j)("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),N=n.forwardRef((e,t)=>{let{className:r,variant:n,...s}=e;return(0,a.jsx)("div",{ref:t,role:"alert",className:(0,m.cn)(b({variant:n}),r),...s})});N.displayName="Alert";let j=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,a.jsx)("h5",{ref:t,className:(0,m.cn)("mb-1 font-medium leading-none tracking-tight",r),...n})});j.displayName="AlertTitle";let w=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,a.jsx)("div",{ref:t,className:(0,m.cn)("text-sm [&_p]:leading-relaxed",r),...n})});w.displayName="AlertDescription";let S=(0,x.Z)("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);function R(){let[e,t]=(0,n.useState)(""),[r,c]=(0,n.useState)(""),[u,f]=(0,n.useState)(null),[m,g]=(0,n.useState)(!1),[x,b]=(0,n.useState)(!1),{toast:R}=(0,h.pm)(),{walletAddress:k,isConnected:C}=(0,i.O)(),T=(0,s.useRouter)();(0,n.useEffect)(()=>{C||T.push("/")},[C,T]);let I=async a=>{if(a.preventDefault(),!k){R({title:"Wallet Not Connected",description:"Please connect your wallet before registering.",variant:"destructive"});return}g(!0),b(!1),console.log("Submitting:",{fullName:e,documentId:r,profilePicture:u,walletAddress:k});try{let a=await fetch("/api/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({fullName:e,documentId:r,profilePicture:null==u?void 0:u.name,walletAddress:k})}),n=await a.json();console.log("Response:",n),R({title:"Registration Successful",description:"Your identity has been registered on the blockchain."}),t(""),c(""),f(null),b(!0)}catch(e){console.error("Error:",e),R({title:"Registration Failed",description:"There was an error registering your identity. Please try again.",variant:"destructive"})}finally{g(!1)}};return x?(0,a.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,a.jsxs)(N,{className:"bg-green-900 border-green-700 text-green-100 max-w-md mx-auto",children:[(0,a.jsx)(S,{className:"h-4 w-4"}),(0,a.jsx)(j,{children:"Registration Successful!"}),(0,a.jsx)(w,{children:"Your identity has been successfully registered on the blockchain."})]}),(0,a.jsx)(d.z,{onClick:()=>{t(""),c(""),f(null),b(!1)},className:"mt-4 bg-indigo-600 hover:bg-indigo-700 text-white mx-auto block",children:"Register Another Identity"})]}):(0,a.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,a.jsx)("h1",{className:"text-4xl font-bold text-center mb-8 text-gray-100",children:"Register Your Identity"}),(0,a.jsxs)(l.Zb,{className:"bg-gray-800/50 backdrop-blur-md border-gray-700 max-w-md mx-auto",children:[(0,a.jsx)(l.Ol,{children:(0,a.jsx)(l.ll,{className:"text-gray-100",children:"Registration Form"})}),(0,a.jsx)(l.aY,{children:(0,a.jsxs)("form",{onSubmit:I,className:"space-y-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(p,{htmlFor:"fullName",className:"text-gray-300",children:"Full Name"}),(0,a.jsx)(o.I,{id:"fullName",value:e,onChange:e=>t(e.target.value),className:"bg-gray-700 border-gray-600 text-gray-100 placeholder-gray-400",placeholder:"Enter your full name",required:!0})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(p,{htmlFor:"documentId",className:"text-gray-300",children:"Document ID"}),(0,a.jsx)(o.I,{id:"documentId",value:r,onChange:e=>c(e.target.value),className:"bg-gray-700 border-gray-600 text-gray-100 placeholder-gray-400",placeholder:"Enter your document ID",required:!0})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(p,{htmlFor:"profilePicture",className:"text-gray-300",children:"Profile Picture"}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(o.I,{id:"profilePicture",type:"file",accept:"image/*",onChange:e=>{var t;return f((null===(t=e.target.files)||void 0===t?void 0:t[0])||null)},className:"hidden"}),(0,a.jsxs)(d.z,{type:"button",variant:"secondary",onClick:()=>{var e;return null===(e=document.getElementById("profilePicture"))||void 0===e?void 0:e.click()},className:"w-full bg-gray-700 hover:bg-gray-600 text-gray-100 border-gray-600",children:[(0,a.jsx)(v,{className:"mr-2 h-4 w-4"})," Upload Picture"]}),u&&(0,a.jsx)("span",{className:"text-gray-100 text-sm truncate",children:u.name})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(p,{className:"text-gray-300",children:"Wallet Address"}),(0,a.jsx)(o.I,{value:k||"",readOnly:!0,className:"bg-gray-700 border-gray-600 text-gray-100",placeholder:"Connect wallet to see address"})]}),(0,a.jsx)(d.z,{type:"submit",className:"w-full bg-indigo-600 hover:bg-indigo-700 text-gray-100",disabled:m||!k,children:m?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(y.Z,{className:"mr-2 h-4 w-4 animate-spin"}),"Registering..."]}):"Register"})]})})]})]})}},2869:function(e,t,r){"use strict";r.d(t,{z:function(){return d}});var a=r(7437),n=r(2265),s=r(7495),i=r(535),l=r(4508);let o=(0,i.j)("inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),d=n.forwardRef((e,t)=>{let{className:r,variant:n,size:i,asChild:d=!1,...c}=e,u=d?s.g7:"button";return(0,a.jsx)(u,{className:(0,l.cn)(o({variant:n,size:i,className:r})),ref:t,...c})});d.displayName="Button"},6070:function(e,t,r){"use strict";r.d(t,{Ol:function(){return l},Zb:function(){return i},aY:function(){return d},ll:function(){return o}});var a=r(7437),n=r(2265),s=r(4508);let i=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,a.jsx)("div",{ref:t,className:(0,s.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",r),...n})});i.displayName="Card";let l=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,a.jsx)("div",{ref:t,className:(0,s.cn)("flex flex-col space-y-1.5 p-6",r),...n})});l.displayName="CardHeader";let o=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,a.jsx)("h3",{ref:t,className:(0,s.cn)("text-2xl font-semibold leading-none tracking-tight",r),...n})});o.displayName="CardTitle",n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,a.jsx)("p",{ref:t,className:(0,s.cn)("text-sm text-muted-foreground",r),...n})}).displayName="CardDescription";let d=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,a.jsx)("div",{ref:t,className:(0,s.cn)("p-6 pt-0",r),...n})});d.displayName="CardContent",n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,a.jsx)("div",{ref:t,className:(0,s.cn)("flex items-center p-6 pt-0",r),...n})}).displayName="CardFooter"},5186:function(e,t,r){"use strict";r.d(t,{I:function(){return i}});var a=r(7437),n=r(2265),s=r(4508);let i=n.forwardRef((e,t)=>{let{className:r,type:n,...i}=e;return(0,a.jsx)("input",{type:n,className:(0,s.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",r),ref:t,...i})});i.displayName="Input"},7992:function(e,t,r){"use strict";r.d(t,{pm:function(){return f}});var a=r(2265);let n=0,s=new Map,i=e=>{if(s.has(e))return;let t=setTimeout(()=>{s.delete(e),c({type:"REMOVE_TOAST",toastId:e})},1e6);s.set(e,t)},l=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case"DISMISS_TOAST":{let{toastId:r}=t;return r?i(r):e.toasts.forEach(e=>{i(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===r||void 0===r?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===t.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)}}},o=[],d={toasts:[]};function c(e){d=l(d,e),o.forEach(e=>{e(d)})}function u(e){let{...t}=e,r=(n=(n+1)%Number.MAX_VALUE).toString(),a=()=>c({type:"DISMISS_TOAST",toastId:r});return c({type:"ADD_TOAST",toast:{...t,id:r,open:!0,onOpenChange:e=>{e||a()}}}),{id:r,dismiss:a,update:e=>c({type:"UPDATE_TOAST",toast:{...e,id:r}})}}function f(){let[e,t]=a.useState(d);return a.useEffect(()=>(o.push(t),()=>{let e=o.indexOf(t);e>-1&&o.splice(e,1)}),[e]),{...e,toast:u,dismiss:e=>c({type:"DISMISS_TOAST",toastId:e})}}},2548:function(e,t,r){"use strict";r.d(t,{O:function(){return o},WalletProvider:function(){return l}});var a=r(7437),n=r(2265),s=r(4131);let i=(0,n.createContext)(void 0);function l(e){let{children:t}=e,[r,l]=(0,n.useState)(null),[o,d]=(0,n.useState)(!1);return(0,n.useEffect)(()=>{d("true"===s.Z.get("walletConnected"))},[]),(0,n.useEffect)(()=>{d(!!r),r?s.Z.set("walletConnected","true",{expires:1}):s.Z.remove("walletConnected")},[r]),(0,a.jsx)(i.Provider,{value:{walletAddress:r,setWalletAddress:l,isConnected:o},children:t})}function o(){let e=(0,n.useContext)(i);if(void 0===e)throw Error("useWallet must be used within a WalletProvider");return e}},4508:function(e,t,r){"use strict";r.d(t,{cn:function(){return s}});var a=r(1994),n=r(3335);function s(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,n.m6)((0,a.W)(t))}},1817:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});let a=(0,r(9205).Z)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},9376:function(e,t,r){"use strict";var a=r(5475);r.o(a,"useRouter")&&r.d(t,{useRouter:function(){return a.useRouter}})},6840:function(e,t,r){"use strict";r.d(t,{WV:function(){return l},jH:function(){return o}});var a=r(2265),n=r(4887),s=r(7495),i=r(7437),l=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"].reduce((e,t)=>{let r=a.forwardRef((e,r)=>{let{asChild:a,...n}=e,l=a?s.g7:t;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,i.jsx)(l,{...n,ref:r})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function o(e,t){e&&n.flushSync(()=>e.dispatchEvent(t))}}},function(e){e.O(0,[841,971,117,744],function(){return e(e.s=6576)}),_N_E=e.O()}]);