(()=>{var e={};e.id=93,e.ids=[93],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},2441:(e,r,t)=>{"use strict";t.r(r),t.d(r,{GlobalError:()=>l.a,__next_app__:()=>m,originalPathname:()=>u,pages:()=>c,routeModule:()=>x,tree:()=>n}),t(7181),t(3602),t(996);var a=t(170),s=t(5002),i=t(3876),l=t.n(i),d=t(6299),o={};for(let e in d)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>d[e]);t.d(r,o);let n=["",{children:["authorized-users",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,7181)),"/Users/adamworede/Documents/projects/digitial-identities/client/app/authorized-users/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,3602)),"/Users/adamworede/Documents/projects/digitial-identities/client/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,996,23)),"next/dist/client/components/not-found-error"]}],c=["/Users/adamworede/Documents/projects/digitial-identities/client/app/authorized-users/page.tsx"],u="/authorized-users/page",m={require:t,loadChunk:()=>Promise.resolve()},x=new a.AppPageRouteModule({definition:{kind:s.x.APP_PAGE,page:"/authorized-users/page",pathname:"/authorized-users",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:n}})},355:(e,r,t)=>{Promise.resolve().then(t.bind(t,3094))},3094:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>w});var a=t(7247),s=t(8964),i=t(4178),l=t(7932),d=t(7757),o=t(8053),n=t(5008);let c=s.forwardRef(({className:e,...r},t)=>a.jsx("div",{className:"w-full overflow-auto",children:a.jsx("table",{ref:t,className:(0,n.cn)("w-full caption-bottom text-sm",e),...r})}));c.displayName="Table";let u=s.forwardRef(({className:e,...r},t)=>a.jsx("thead",{ref:t,className:(0,n.cn)("[&_tr]:border-b",e),...r}));u.displayName="TableHeader";let m=s.forwardRef(({className:e,...r},t)=>a.jsx("tbody",{ref:t,className:(0,n.cn)("[&_tr:last-child]:border-0",e),...r}));m.displayName="TableBody",s.forwardRef(({className:e,...r},t)=>a.jsx("tfoot",{ref:t,className:(0,n.cn)("bg-primary font-medium text-primary-foreground",e),...r})).displayName="TableFooter";let x=s.forwardRef(({className:e,...r},t)=>a.jsx("tr",{ref:t,className:(0,n.cn)("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...r}));x.displayName="TableRow";let p=s.forwardRef(({className:e,...r},t)=>a.jsx("th",{ref:t,className:(0,n.cn)("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...r}));p.displayName="TableHead";let f=s.forwardRef(({className:e,...r},t)=>a.jsx("td",{ref:t,className:(0,n.cn)("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...r}));f.displayName="TableCell",s.forwardRef(({className:e,...r},t)=>a.jsx("caption",{ref:t,className:(0,n.cn)("mt-4 text-sm text-muted-foreground",e),...r})).displayName="TableCaption";var h=t(8749),g=t(6323);let j=(0,g.Z)("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]),y=(0,g.Z)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);var N=t(5995);function b(){let[e,r]=(0,s.useState)([]),[t,i]=(0,s.useState)(!0),{toast:l}=(0,N.pm)(),n=async t=>{try{let a=await fetch(`/api/authorize/${t}`,{method:"POST"});(await a.json()).success&&(r(e.map(e=>e.id===t?{...e,authorized:!0}:e)),l({title:"User Authorized",description:`User ${t} has been successfully authorized.`}))}catch(e){console.error("Error authorizing user:",e),l({title:"Authorization Failed",description:"There was an error authorizing the user. Please try again.",variant:"destructive"})}};return(0,a.jsxs)(d.Zb,{className:"bg-gray-800/50 backdrop-blur-md border-gray-700",children:[a.jsx(d.Ol,{children:a.jsx(d.ll,{className:"text-gray-100",children:"User List"})}),a.jsx(d.aY,{children:t?a.jsx("div",{className:"flex justify-center items-center h-64",children:a.jsx(h.Z,{className:"h-8 w-8 animate-spin text-indigo-500"})}):(0,a.jsxs)(c,{children:[a.jsx(u,{children:(0,a.jsxs)(x,{children:[a.jsx(p,{className:"text-gray-300",children:"Document ID"}),a.jsx(p,{className:"text-gray-300",children:"Profile Picture"}),a.jsx(p,{className:"text-gray-300",children:"Status"}),a.jsx(p,{className:"text-gray-300",children:"Action"})]})}),a.jsx(m,{children:e.map(e=>(0,a.jsxs)(x,{className:"border-gray-700",children:[a.jsx(f,{className:"text-gray-300",children:e.documentId}),a.jsx(f,{children:a.jsx("img",{src:e.profilePicture,alt:"Profile",className:"w-10 h-10 rounded-full"})}),a.jsx(f,{children:e.authorized?(0,a.jsxs)("span",{className:"text-green-400 flex items-center",children:[a.jsx(j,{className:"mr-1"})," Authorized"]}):(0,a.jsxs)("span",{className:"text-yellow-400 flex items-center",children:[a.jsx(y,{className:"mr-1"})," Pending"]})}),a.jsx(f,{children:!e.authorized&&a.jsx(o.z,{onClick:()=>n(e.id),className:"bg-indigo-600 hover:bg-indigo-700 text-gray-100",children:"Authorize"})})]},e.id))})]})})]})}function w(){let{isConnected:e}=(0,l.O)();return(0,i.useRouter)(),(0,a.jsxs)("main",{className:"space-y-8",children:[a.jsx("h1",{className:"text-4xl font-bold text-center",children:"Authorized Users"}),a.jsx(b,{})]})}},7757:(e,r,t)=>{"use strict";t.d(r,{Ol:()=>d,Zb:()=>l,aY:()=>n,ll:()=>o});var a=t(7247),s=t(8964),i=t(5008);let l=s.forwardRef(({className:e,...r},t)=>a.jsx("div",{ref:t,className:(0,i.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",e),...r}));l.displayName="Card";let d=s.forwardRef(({className:e,...r},t)=>a.jsx("div",{ref:t,className:(0,i.cn)("flex flex-col space-y-1.5 p-6",e),...r}));d.displayName="CardHeader";let o=s.forwardRef(({className:e,...r},t)=>a.jsx("h3",{ref:t,className:(0,i.cn)("text-2xl font-semibold leading-none tracking-tight",e),...r}));o.displayName="CardTitle",s.forwardRef(({className:e,...r},t)=>a.jsx("p",{ref:t,className:(0,i.cn)("text-sm text-muted-foreground",e),...r})).displayName="CardDescription";let n=s.forwardRef(({className:e,...r},t)=>a.jsx("div",{ref:t,className:(0,i.cn)("p-6 pt-0",e),...r}));n.displayName="CardContent",s.forwardRef(({className:e,...r},t)=>a.jsx("div",{ref:t,className:(0,i.cn)("flex items-center p-6 pt-0",e),...r})).displayName="CardFooter"},8749:(e,r,t)=>{"use strict";t.d(r,{Z:()=>a});let a=(0,t(6323).Z)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},4178:(e,r,t)=>{"use strict";var a=t(5289);t.o(a,"useRouter")&&t.d(r,{useRouter:function(){return a.useRouter}})},7181:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>a});let a=(0,t(5347).createProxy)(String.raw`/Users/adamworede/Documents/projects/digitial-identities/client/app/authorized-users/page.tsx#default`)}};var r=require("../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),a=r.X(0,[787,129,436],()=>t(2441));module.exports=a})();