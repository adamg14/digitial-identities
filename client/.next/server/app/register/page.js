(()=>{var e={};e.id=11,e.ids=[11],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},6108:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>l.a,__next_app__:()=>m,originalPathname:()=>u,pages:()=>c,routeModule:()=>g,tree:()=>o}),r(6634),r(3602),r(996);var a=r(170),s=r(5002),i=r(3876),l=r.n(i),n=r(6299),d={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>n[e]);r.d(t,d);let o=["",{children:["register",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,6634)),"/Users/adamworede/Documents/projects/digitial-identities/client/app/register/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,3602)),"/Users/adamworede/Documents/projects/digitial-identities/client/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,996,23)),"next/dist/client/components/not-found-error"]}],c=["/Users/adamworede/Documents/projects/digitial-identities/client/app/register/page.tsx"],u="/register/page",m={require:r,loadChunk:()=>Promise.resolve()},g=new a.AppPageRouteModule({definition:{kind:s.x.APP_PAGE,page:"/register/page",pathname:"/register",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},6314:(e,t,r)=>{Promise.resolve().then(r.bind(r,8564))},8564:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>R});var a=r(7247),s=r(8964),i=r(4178),l=r(7932),n=r(7757),d=r(6991),o=r(8053),c=r(2251),u=s.forwardRef((e,t)=>(0,a.jsx)(c.WV.label,{...e,ref:t,onMouseDown:t=>{t.target.closest("button, input, select, textarea")||(e.onMouseDown?.(t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));u.displayName="Label";var m=r(7972),g=r(5008);let p=(0,m.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),x=s.forwardRef(({className:e,...t},r)=>a.jsx(u,{ref:r,className:(0,g.cn)(p(),e),...t}));x.displayName=u.displayName;var f=r(6323);let y=(0,f.Z)("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);var h=r(8749),b=r(5995);let v=(0,m.j)("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),j=s.forwardRef(({className:e,variant:t,...r},s)=>a.jsx("div",{ref:s,role:"alert",className:(0,g.cn)(v({variant:t}),e),...r}));j.displayName="Alert";let N=s.forwardRef(({className:e,...t},r)=>a.jsx("h5",{ref:r,className:(0,g.cn)("mb-1 font-medium leading-none tracking-tight",e),...t}));N.displayName="AlertTitle";let w=s.forwardRef(({className:e,...t},r)=>a.jsx("div",{ref:r,className:(0,g.cn)("text-sm [&_p]:leading-relaxed",e),...t}));w.displayName="AlertDescription";let P=(0,f.Z)("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);function R(){let[e,t]=(0,s.useState)(""),[r,c]=(0,s.useState)(""),[u,m]=(0,s.useState)(null),[g,p]=(0,s.useState)(!1),[f,v]=(0,s.useState)(!1),{toast:R}=(0,b.pm)(),{walletAddress:k,isConnected:C}=(0,l.O)();(0,i.useRouter)();let _=async a=>{if(a.preventDefault(),!k){R({title:"Wallet Not Connected",description:"Please connect your wallet before registering.",variant:"destructive"});return}p(!0),v(!1),console.log("Submitting:",{fullName:e,documentId:r,profilePicture:u,walletAddress:k});try{let a=await fetch("/api/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({fullName:e,documentId:r,profilePicture:u?.name,walletAddress:k})}),s=await a.json();console.log("Response:",s),R({title:"Registration Successful",description:"Your identity has been registered on the blockchain."}),t(""),c(""),m(null),v(!0)}catch(e){console.error("Error:",e),R({title:"Registration Failed",description:"There was an error registering your identity. Please try again.",variant:"destructive"})}finally{p(!1)}};return f?(0,a.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,a.jsxs)(j,{className:"bg-green-900 border-green-700 text-green-100 max-w-md mx-auto",children:[a.jsx(P,{className:"h-4 w-4"}),a.jsx(N,{children:"Registration Successful!"}),a.jsx(w,{children:"Your identity has been successfully registered on the blockchain."})]}),a.jsx(o.z,{onClick:()=>{t(""),c(""),m(null),v(!1)},className:"mt-4 bg-indigo-600 hover:bg-indigo-700 text-white mx-auto block",children:"Register Another Identity"})]}):(0,a.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[a.jsx("h1",{className:"text-4xl font-bold text-center mb-8 text-gray-100",children:"Register Your Identity"}),(0,a.jsxs)(n.Zb,{className:"bg-gray-800/50 backdrop-blur-md border-gray-700 max-w-md mx-auto",children:[a.jsx(n.Ol,{children:a.jsx(n.ll,{className:"text-gray-100",children:"Registration Form"})}),a.jsx(n.aY,{children:(0,a.jsxs)("form",{onSubmit:_,className:"space-y-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[a.jsx(x,{htmlFor:"fullName",className:"text-gray-300",children:"Full Name"}),a.jsx(d.I,{id:"fullName",value:e,onChange:e=>t(e.target.value),className:"bg-gray-700 border-gray-600 text-gray-100 placeholder-gray-400",placeholder:"Enter your full name",required:!0})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[a.jsx(x,{htmlFor:"documentId",className:"text-gray-300",children:"Document ID"}),a.jsx(d.I,{id:"documentId",value:r,onChange:e=>c(e.target.value),className:"bg-gray-700 border-gray-600 text-gray-100 placeholder-gray-400",placeholder:"Enter your document ID",required:!0})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[a.jsx(x,{htmlFor:"profilePicture",className:"text-gray-300",children:"Profile Picture"}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[a.jsx(d.I,{id:"profilePicture",type:"file",accept:"image/*",onChange:e=>m(e.target.files?.[0]||null),className:"hidden"}),(0,a.jsxs)(o.z,{type:"button",variant:"secondary",onClick:()=>document.getElementById("profilePicture")?.click(),className:"w-full bg-gray-700 hover:bg-gray-600 text-gray-100 border-gray-600",children:[a.jsx(y,{className:"mr-2 h-4 w-4"})," Upload Picture"]}),u&&a.jsx("span",{className:"text-gray-100 text-sm truncate",children:u.name})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[a.jsx(x,{className:"text-gray-300",children:"Wallet Address"}),a.jsx(d.I,{value:k||"",readOnly:!0,className:"bg-gray-700 border-gray-600 text-gray-100",placeholder:"Connect wallet to see address"})]}),a.jsx(o.z,{type:"submit",className:"w-full bg-indigo-600 hover:bg-indigo-700 text-gray-100",disabled:g||!k,children:g?(0,a.jsxs)(a.Fragment,{children:[a.jsx(h.Z,{className:"mr-2 h-4 w-4 animate-spin"}),"Registering..."]}):"Register"})]})})]})]})}},7757:(e,t,r)=>{"use strict";r.d(t,{Ol:()=>n,Zb:()=>l,aY:()=>o,ll:()=>d});var a=r(7247),s=r(8964),i=r(5008);let l=s.forwardRef(({className:e,...t},r)=>a.jsx("div",{ref:r,className:(0,i.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));l.displayName="Card";let n=s.forwardRef(({className:e,...t},r)=>a.jsx("div",{ref:r,className:(0,i.cn)("flex flex-col space-y-1.5 p-6",e),...t}));n.displayName="CardHeader";let d=s.forwardRef(({className:e,...t},r)=>a.jsx("h3",{ref:r,className:(0,i.cn)("text-2xl font-semibold leading-none tracking-tight",e),...t}));d.displayName="CardTitle",s.forwardRef(({className:e,...t},r)=>a.jsx("p",{ref:r,className:(0,i.cn)("text-sm text-muted-foreground",e),...t})).displayName="CardDescription";let o=s.forwardRef(({className:e,...t},r)=>a.jsx("div",{ref:r,className:(0,i.cn)("p-6 pt-0",e),...t}));o.displayName="CardContent",s.forwardRef(({className:e,...t},r)=>a.jsx("div",{ref:r,className:(0,i.cn)("flex items-center p-6 pt-0",e),...t})).displayName="CardFooter"},6991:(e,t,r)=>{"use strict";r.d(t,{I:()=>l});var a=r(7247),s=r(8964),i=r(5008);let l=s.forwardRef(({className:e,type:t,...r},s)=>a.jsx("input",{type:t,className:(0,i.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:s,...r}));l.displayName="Input"},8749:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});let a=(0,r(6323).Z)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},4178:(e,t,r)=>{"use strict";var a=r(5289);r.o(a,"useRouter")&&r.d(t,{useRouter:function(){return a.useRouter}})},6634:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>a});let a=(0,r(5347).createProxy)(String.raw`/Users/adamworede/Documents/projects/digitial-identities/client/app/register/page.tsx#default`)}};var t=require("../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),a=t.X(0,[787,129,436],()=>r(6108));module.exports=a})();